<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>boost.outcome: Detail: Outcome&#39;s implementation of Expected</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">boost.outcome
   &#160;<span id="projectnumber">0.99</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('md_doc_md_08-expectedsynopsis.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Detail: Outcome's implementation of Expected </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="outcome_expected_reference"></a> You should read <a href="http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2016/p0323r1.pdf">P0323R1</a> if you want a C++ standards level of detail regarding exactly what each member function's preconditions, effects and postconditions are. Unless otherwise indicated, Outcome's Expected behaves exactly the same. Outcome uses the <b>exact same</b> unit test suite as the LEWG Expected reference implementation, and passes it handily. As the LEWG reference implementation updates its unit test suite, we shall keep pace.</p>
<p>For your convenience we copy and paste P0323R1's Expected synopsis here in the left hand column. In the right hand column we show Outcome's Expected implementation with the lines matched to the left perfectly (you may need to make your web browser page wider) so you can quickly compare the LEWG Expected to the Outcome Expected.</p>
<p>As you will note, there are technically speaking quite a lot of deviations. Most are insignificant and will present no effect in code using Expected. Occasionally a function is missing or implemented significantly differently. If it has a significantly different signature, it is usually because we feel the LEWG Expected is defective in that area (e.g. the use of <code>decay&lt;&gt;</code> for the factory functions precludes manufacturing <code>expected&lt;const T&gt;</code> which we have found to be in practice very useful). If it is missing, it is either because we feel its presence is a defect in the LEWG Expected or we think it not worth implementing.</p>
<p>A summary of the main differences:</p>
<ul>
<li>P0323R1 doesn't yet specify what will be done if you try accessing an expected which is valueless due to exception. We throw a <code>bad_expected_access&lt;void&gt;</code> in this situation as that seemed logical. If the LEWG proposal decides on something different, this implementation will change to track the LEWG proposal.</li>
<li>Types <code>T</code> and <code>E</code> cannot be constructible into one another. This is a fundamental design choice in basic_monad to significantly reduce compile times so it won't be fixed.</li>
<li><code>unexpected_type&lt;E&gt;</code> is implemented as an <code>expected&lt;void, E&gt;</code> and it lets the basic_monad machinery do the implicit conversion to some <code>expected&lt;T, E&gt;</code> through the less representative to more representative conversion rules.</li>
<li>Our <code>expected&lt;T, E&gt;</code> defaults E to <code>std::error_code</code> rather than <code>std::error_condition</code> (the LEWG proposal is almost certainly wrong on this, it should be <code>std::error_code</code>). If you don't like this, predefine the <code>BOOST_OUTCOME_EXPECTED_DEFAULT_ERROR_TYPE</code> macro.</li>
<li>We don't implement the ordering and hashing operator overloads due to <a href="https://akrzemi1.wordpress.com/2014/12/02/a-gotcha-with-optional/">https://akrzemi1.wordpress.com/2014/12/02/a-gotcha-with-optional/</a>. The fact the LEWG proposal does as currently proposed is a defect.</li>
<li>We don't implement <code>make_expected_from_call()</code> as we think it highly likely to be removed from the next version of the proposal due to it conferring little value.</li>
<li>Our Expected always defines the default, copy and move constructors even if the the type configured is not capable of it. That means <code>std::is_copy_constructible</code> etc returns true when they should return false. The reason why is again to significantly improve compile times by hugely reducing the number of templates which need to be instantiated during routine basic_monad usage, and again this won't be fixed. Instead use the static constexpr bools at:<ul>
<li><code>expected&lt;T, E&gt;is_default_constructible</code></li>
<li><code>expected&lt;T, E&gt;is_copy_constructible</code></li>
<li><code>expected&lt;T, E&gt;is_move_constructible</code> <dl class="section note"><dt>Note</dt><dd>Depending on what any Boost peer review thinks, we may inject correct answers for the type traits for basic_monad into namespace std.</dd></dl>
<hr/>
<br/>
</li>
</ul>
</li>
</ul>
<h1><a class="anchor" id="synopsis_unexpected_type"></a>
unexpected_type&lt;E&gt;</h1>
<table  width="100%">
<tr>
<th width="38%">LEWG's Expected implementation</th><th width="62%">Outcome's Expected implementation </th></tr>
<tr>
<td width="38%" valign="top"><div class="fragment"><div class="line"><span class="keyword">namespace </span>std {</div>
<div class="line"><span class="keyword">namespace </span>experimental {</div>
<div class="line"><span class="keyword">inline</span> <span class="keyword">namespace </span>fundamentals_v3 {</div>
<div class="line">  <span class="comment">// X.Y.3, Unexpected object type</span></div>
<div class="line">  <span class="keyword">template</span> &lt;<span class="keyword">class</span> E&gt;</div>
<div class="line">    <span class="keyword">class </span><a class="code" href="group__expected.html#gaa7f5bc4b5722b0aabfc0cb9d8bc22d51">unexpected_type</a>;</div>
<div class="line"></div>
<div class="line">  <span class="comment">// X.Y.4, Unexpected factories</span></div>
<div class="line">  <span class="keyword">template</span> &lt;<span class="keyword">class</span> E&gt;</div>
<div class="line">    constexpr unexpected_type&lt;decay_t&lt;E&gt;&gt; <a class="code" href="group__expected.html#ga65f63cc3d21288cf48f31096b10c2b0b">make_unexpected</a>(E&amp;&amp; v);</div>
<div class="line"></div>
<div class="line"></div>
<div class="line"></div>
<div class="line">  <span class="comment">// X.Y.5, unexpected_type relational operators</span></div>
<div class="line">  <span class="keyword">template</span> &lt;<span class="keyword">class</span> E&gt;</div>
<div class="line">    constexpr <span class="keywordtype">bool</span></div>
<div class="line">    <a class="code" href="namespaceboost_1_1outcome_1_1v1__xxx.html#a63db4c206ada0cb03a5a1fbe0d626ba7">operator==</a>(<span class="keyword">const</span> unexpected_type&lt;E&gt;&amp;, <span class="keyword">const</span> unexpected_type&lt;E&gt;&amp;);</div>
<div class="line">  <span class="keyword">template</span> &lt;<span class="keyword">class</span> E&gt;</div>
<div class="line">    constexpr <span class="keywordtype">bool</span></div>
<div class="line">    <a class="code" href="namespaceboost_1_1outcome_1_1v1__xxx.html#a45313fa17aa4be05a21363191dacab93">operator!=</a>(<span class="keyword">const</span> unexpected_type&lt;E&gt;&amp;, <span class="keyword">const</span> unexpected_type&lt;E&gt;&amp;);</div>
<div class="line">  <span class="keyword">template</span> &lt;<span class="keyword">class</span> E&gt;</div>
<div class="line">    constexpr <span class="keywordtype">bool</span></div>
<div class="line">    operator&lt;(const unexpected_type&lt;E&gt;&amp;, <span class="keyword">const</span> unexpected_type&lt;E&gt;&amp;);</div>
<div class="line">  <span class="keyword">template</span> &lt;<span class="keyword">class</span> E&gt;</div>
<div class="line">    constexpr <span class="keywordtype">bool</span></div>
<div class="line">    operator&gt;(<span class="keyword">const</span> unexpected_type&lt;E&gt;&amp;, <span class="keyword">const</span> unexpected_type&lt;E&gt;&amp;);</div>
<div class="line">  <span class="keyword">template</span> &lt;<span class="keyword">class</span> E&gt;</div>
<div class="line">    constexpr <span class="keywordtype">bool</span></div>
<div class="line">    operator&lt;=(const unexpected_type&lt;E&gt;&amp;, <span class="keyword">const</span> unexpected_type&lt;E&gt;&amp;);</div>
<div class="line">  <span class="keyword">template</span> &lt;<span class="keyword">class</span> E&gt;</div>
<div class="line">    constexpr <span class="keywordtype">bool</span></div>
<div class="line">    operator&gt;=(<span class="keyword">const</span> unexpected_type&lt;E&gt;&amp;, <span class="keyword">const</span> unexpected_type&lt;E&gt;&amp;);</div>
<div class="line"></div>
<div class="line">}}}</div>
</div><!-- fragment --> </td><td width="62%" valign="top"><div class="fragment"><div class="line"><span class="keyword">namespace </span>boost {</div>
<div class="line"><span class="keyword">namespace </span>outcome {</div>
<div class="line"><span class="keyword">inline</span> <span class="keyword">namespace </span>v1_xxx {</div>
<div class="line">  <span class="comment">// X.Y.3, Unexpected object type</span></div>
<div class="line">  <span class="keyword">template</span> &lt;<span class="keyword">class</span> E&gt;</div>
<div class="line">    <span class="keyword">using</span> <a class="code" href="group__expected.html#gaa7f5bc4b5722b0aabfc0cb9d8bc22d51">unexpected_type</a> = expected&lt;void, E&gt;;  <span class="comment">// NOTE This is a template alias!</span></div>
<div class="line"></div>
<div class="line">  <span class="comment">// X.Y.4, Unexpected factories</span></div>
<div class="line">  <span class="keyword">template</span> &lt;<span class="keyword">class</span> E&gt;</div>
<div class="line">    constexpr <span class="keyword">inline</span> unexpected_type&lt;E&gt; <a class="code" href="group__expected.html#ga65f63cc3d21288cf48f31096b10c2b0b">make_unexpected</a>(<span class="keyword">const</span> E&amp; v);</div>
<div class="line">  <span class="keyword">template</span> &lt;<span class="keyword">class</span> E&gt;</div>
<div class="line">    constexpr <span class="keyword">inline</span> unexpected_type&lt;E&gt; <a class="code" href="group__expected.html#ga65f63cc3d21288cf48f31096b10c2b0b">make_unexpected</a>(E&amp;&amp; v);</div>
<div class="line"></div>
<div class="line">  <span class="comment">// X.Y.5, unexpected_type relational operators</span></div>
<div class="line">  <span class="keyword">template</span> &lt;<span class="keyword">class</span> E&gt;</div>
<div class="line">    constexpr <span class="keyword">inline</span> <span class="keywordtype">bool</span></div>
<div class="line">    <a class="code" href="namespaceboost_1_1outcome_1_1v1__xxx.html#a63db4c206ada0cb03a5a1fbe0d626ba7">operator==</a>(<span class="keyword">const</span> unexpected_type&lt;E&gt;&amp;, <span class="keyword">const</span> unexpected_type&lt;E&gt;&amp;);</div>
<div class="line">  <span class="keyword">template</span> &lt;<span class="keyword">class</span> E&gt;</div>
<div class="line">    constexpr <span class="keyword">inline</span> <span class="keywordtype">bool</span></div>
<div class="line">    <a class="code" href="namespaceboost_1_1outcome_1_1v1__xxx.html#a45313fa17aa4be05a21363191dacab93">operator!=</a>(<span class="keyword">const</span> unexpected_type&lt;E&gt;&amp;, <span class="keyword">const</span> unexpected_type&lt;E&gt;&amp;);</div>
<div class="line">  <span class="comment">// Other comparison operators not implemented due to</span></div>
<div class="line">  <span class="comment">// https://akrzemi1.wordpress.com/2014/12/02/a-gotcha-with-optional/</span></div>
<div class="line"></div>
<div class="line"></div>
<div class="line"></div>
<div class="line"></div>
<div class="line"></div>
<div class="line"></div>
<div class="line"></div>
<div class="line"></div>
<div class="line"></div>
<div class="line"></div>
<div class="line"></div>
<div class="line">}}}</div>
</div><!-- fragment -->  </td></tr>
<tr>
<td width="38%" valign="top"><div class="fragment"><div class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> E&gt;</div>
<div class="line"><span class="keyword">class </span><a class="code" href="group__expected.html#gaa7f5bc4b5722b0aabfc0cb9d8bc22d51">unexpected_type</a> {</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">  <a class="code" href="group__expected.html#gaa7f5bc4b5722b0aabfc0cb9d8bc22d51">unexpected_type</a>() = <span class="keyword">delete</span>;</div>
<div class="line">  constexpr <span class="keyword">explicit</span> <a class="code" href="group__expected.html#gaa7f5bc4b5722b0aabfc0cb9d8bc22d51">unexpected_type</a>(<span class="keyword">const</span> E&amp;);</div>
<div class="line">  constexpr <span class="keyword">explicit</span> <a class="code" href="group__expected.html#gaa7f5bc4b5722b0aabfc0cb9d8bc22d51">unexpected_type</a>(E&amp;&amp;);</div>
<div class="line">  constexpr <span class="keyword">const</span> E&amp; value() <span class="keyword">const</span>;</div>
<div class="line">  constexpr E &amp; value();</div>
<div class="line"><span class="keyword">private</span>:</div>
<div class="line">  E val; <span class="comment">// exposition only</span></div>
<div class="line">};</div>
</div><!-- fragment --> </td><td width="62%" valign="top"><div class="fragment"><div class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> E&gt;</div>
<div class="line"><span class="keyword">class </span><a class="code" href="group__expected.html#gaa7f5bc4b5722b0aabfc0cb9d8bc22d51">unexpected_type</a> {                           <span class="comment">// Actually expected&lt;void, E&gt;, below is exposition only</span></div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">  <a class="code" href="group__expected.html#gaa7f5bc4b5722b0aabfc0cb9d8bc22d51">unexpected_type</a>() = <span class="keywordflow">default</span>;</div>
<div class="line">  constexpr <span class="keyword">explicit</span> <a class="code" href="group__expected.html#gaa7f5bc4b5722b0aabfc0cb9d8bc22d51">unexpected_type</a>(<span class="keyword">const</span> E&amp;);</div>
<div class="line">  constexpr <span class="keyword">explicit</span> <a class="code" href="group__expected.html#gaa7f5bc4b5722b0aabfc0cb9d8bc22d51">unexpected_type</a>(E&amp;&amp;);</div>
<div class="line">  constexpr <span class="keyword">const</span> E&amp; value() <span class="keyword">const</span>;</div>
<div class="line">  constexpr E &amp; value();</div>
<div class="line"><span class="keyword">private</span>:</div>
<div class="line">  E val; <span class="comment">// exposition only</span></div>
<div class="line">};</div>
</div><!-- fragment -->  </td></tr>
</table>
<h1><a class="anchor" id="synopsis_expected"></a>
expected&lt;T, E&gt;</h1>
<table  width="100%">
<tr>
<th width="38%">LEWG's Expected implementation</th><th width="62%">Outcome's Expected implementation </th></tr>
<tr>
<td width="38%" valign="top"><div class="fragment"><div class="line"><span class="keyword">namespace </span>std {</div>
<div class="line"><span class="keyword">namespace </span>experimental {</div>
<div class="line"><span class="keyword">inline</span> <span class="keyword">namespace </span>fundamentals_v3 {</div>
<div class="line">  <span class="comment">// X.Z.4, expected for object types</span></div>
<div class="line">  <span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keyword">class</span> E= error_condition&gt;</div>
<div class="line">    <span class="keyword">class </span>expected;</div>
<div class="line"></div>
<div class="line">  <span class="comment">// X.Z.5, Specialization for void.</span></div>
<div class="line">  <span class="keyword">template</span> &lt;<span class="keyword">class</span> E&gt;</div>
<div class="line">    <span class="keyword">class </span>expected&lt;void, E&gt;;</div>
<div class="line"></div>
<div class="line">  <span class="comment">// X.Z.6, unexpect tag</span></div>
<div class="line">  <span class="keyword">struct </span><a class="code" href="group__expected.html#ga43a5a0da82bcdf70d885e62ca9d5528a">unexpect_t</a>{</div>
<div class="line">    <a class="code" href="group__expected.html#ga43a5a0da82bcdf70d885e62ca9d5528a">unexpect_t</a>() = <span class="keyword">delete</span>;</div>
<div class="line">  };</div>
<div class="line">  constexpr <a class="code" href="group__expected.html#ga43a5a0da82bcdf70d885e62ca9d5528a">unexpect_t</a> <a class="code" href="group__expected.html#ga71d06dbe1034b67b00f3f69839c548ae">unexpect</a>{<span class="stringliteral">&#39;implementation defined&#39;</span>};</div>
<div class="line"></div>
<div class="line">  <span class="comment">// X.Z.7, class bad_expected_access</span></div>
<div class="line">  <span class="keyword">class </span>bad_expected_access;</div>
<div class="line"></div>
<div class="line">  <span class="comment">// X.Z.8, Expected relational operators</span></div>
<div class="line">  <span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keyword">class</span> E&gt;</div>
<div class="line">    constexpr <span class="keywordtype">bool</span> <a class="code" href="namespaceboost_1_1outcome_1_1v1__xxx.html#a63db4c206ada0cb03a5a1fbe0d626ba7">operator==</a>(<span class="keyword">const</span> expected&lt;T,E&gt;&amp;, <span class="keyword">const</span> expected&lt;T,E&gt;&amp;);</div>
<div class="line">  <span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keyword">class</span> E&gt;</div>
<div class="line">    constexpr <span class="keywordtype">bool</span> <a class="code" href="namespaceboost_1_1outcome_1_1v1__xxx.html#a45313fa17aa4be05a21363191dacab93">operator!=</a>(<span class="keyword">const</span> expected&lt;T,E&gt;&amp;, <span class="keyword">const</span> expected&lt;T,E&gt;&amp;);</div>
<div class="line">  <span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keyword">class</span> E&gt;</div>
<div class="line">    constexpr <span class="keywordtype">bool</span> operator&lt;(const expected&lt;T,E&gt;&amp;, <span class="keyword">const</span> expected&lt;T,E&gt;&amp;);</div>
<div class="line">  <span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keyword">class</span> E&gt;</div>
<div class="line">    constexpr <span class="keywordtype">bool</span> operator&gt;(<span class="keyword">const</span> expected&lt;T,E&gt;&amp;, <span class="keyword">const</span> expected&lt;T,E&gt;&amp;);</div>
<div class="line">  <span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keyword">class</span> E&gt;</div>
<div class="line">    constexpr <span class="keywordtype">bool</span> operator&lt;=(const expected&lt;T,E&gt;&amp;, <span class="keyword">const</span> expected&lt;T,E&gt;&amp;);</div>
<div class="line">  <span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keyword">class</span> E&gt;</div>
<div class="line">    constexpr <span class="keywordtype">bool</span> operator&gt;=(<span class="keyword">const</span> expected&lt;T,E&gt;&amp;, <span class="keyword">const</span> expected&lt;T,E&gt;&amp;);</div>
<div class="line"></div>
<div class="line">  <span class="comment">// X.Z.9, Comparison with T</span></div>
<div class="line">  <span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keyword">class</span> E&gt;</div>
<div class="line">    constexpr <span class="keywordtype">bool</span> <a class="code" href="namespaceboost_1_1outcome_1_1v1__xxx.html#a63db4c206ada0cb03a5a1fbe0d626ba7">operator==</a>(<span class="keyword">const</span> expected&lt;T,E&gt;&amp;, <span class="keyword">const</span> T&amp;);</div>
<div class="line">  <span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keyword">class</span> E&gt;</div>
<div class="line">    constexpr <span class="keywordtype">bool</span> <a class="code" href="namespaceboost_1_1outcome_1_1v1__xxx.html#a63db4c206ada0cb03a5a1fbe0d626ba7">operator==</a>(<span class="keyword">const</span> T&amp;, <span class="keyword">const</span> expected&lt;T,E&gt;&amp;);</div>
<div class="line">  <span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keyword">class</span> E&gt;</div>
<div class="line">    constexpr <span class="keywordtype">bool</span> <a class="code" href="namespaceboost_1_1outcome_1_1v1__xxx.html#a45313fa17aa4be05a21363191dacab93">operator!=</a>(<span class="keyword">const</span> expected&lt;T,E&gt;&amp;, <span class="keyword">const</span> T&amp;);</div>
<div class="line">  <span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keyword">class</span> E&gt;</div>
<div class="line">    constexpr <span class="keywordtype">bool</span> <a class="code" href="namespaceboost_1_1outcome_1_1v1__xxx.html#a45313fa17aa4be05a21363191dacab93">operator!=</a>(<span class="keyword">const</span> T&amp;, <span class="keyword">const</span> expected&lt;T,E&gt;&amp;);</div>
<div class="line">  <span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keyword">class</span> E&gt;</div>
<div class="line">    constexpr <span class="keywordtype">bool</span> operator&lt;(const expected&lt;T,E&gt;&amp;, <span class="keyword">const</span> T&amp;);</div>
<div class="line">  <span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keyword">class</span> E&gt;</div>
<div class="line">    constexpr <span class="keywordtype">bool</span> operator&lt;(const T&amp;, const expected&lt;T,E&gt;&amp;);</div>
<div class="line">  <span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keyword">class</span> E&gt;</div>
<div class="line">    constexpr <span class="keywordtype">bool</span> operator&lt;=(const expected&lt;T,E&gt;&amp;, <span class="keyword">const</span> T&amp;);</div>
<div class="line">  <span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keyword">class</span> E&gt;</div>
<div class="line">    constexpr <span class="keywordtype">bool</span> operator&lt;=(const T&amp;, const expected&lt;T,E&gt;&amp;);</div>
<div class="line">  <span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keyword">class</span> E&gt;</div>
<div class="line">    constexpr <span class="keywordtype">bool</span> operator&gt;(<span class="keyword">const</span> expected&lt;T,E&gt;&amp;, <span class="keyword">const</span> T&amp;);</div>
<div class="line">  <span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keyword">class</span> E&gt;</div>
<div class="line">    constexpr <span class="keywordtype">bool</span> operator&gt;(<span class="keyword">const</span> T&amp;, <span class="keyword">const</span> expected&lt;T,E&gt;&amp;);</div>
<div class="line">  <span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keyword">class</span> E&gt;</div>
<div class="line">    constexpr <span class="keywordtype">bool</span> operator&gt;=(<span class="keyword">const</span> expected&lt;T,E&gt;&amp;, <span class="keyword">const</span> T&amp;);</div>
<div class="line">  <span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keyword">class</span> E&gt;</div>
<div class="line">    constexpr <span class="keywordtype">bool</span> operator&gt;=(<span class="keyword">const</span> T&amp;, <span class="keyword">const</span> expected&lt;T,E&gt;&amp;);</div>
<div class="line"></div>
<div class="line">  <span class="comment">// X.Z.10, Comparison with unexpected_type&lt;E&gt;</span></div>
<div class="line">  <span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keyword">class</span> E&gt;</div>
<div class="line">    constexpr <span class="keywordtype">bool</span> <a class="code" href="namespaceboost_1_1outcome_1_1v1__xxx.html#a63db4c206ada0cb03a5a1fbe0d626ba7">operator==</a>(<span class="keyword">const</span> expected&lt;T,E&gt;&amp;, <span class="keyword">const</span> unexpected_type&lt;E&gt;&amp;);</div>
<div class="line">  <span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keyword">class</span> E&gt;</div>
<div class="line">    constexpr <span class="keywordtype">bool</span> <a class="code" href="namespaceboost_1_1outcome_1_1v1__xxx.html#a63db4c206ada0cb03a5a1fbe0d626ba7">operator==</a>(<span class="keyword">const</span> unexpected_type&lt;E&gt;&amp;, <span class="keyword">const</span> expected&lt;T,E&gt;&amp;);</div>
<div class="line">  <span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keyword">class</span> E&gt;</div>
<div class="line">    constexpr <span class="keywordtype">bool</span> <a class="code" href="namespaceboost_1_1outcome_1_1v1__xxx.html#a45313fa17aa4be05a21363191dacab93">operator!=</a>(<span class="keyword">const</span> expected&lt;T,E&gt;&amp;, <span class="keyword">const</span> unexpected_type&lt;E&gt;&amp;);</div>
<div class="line">  <span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keyword">class</span> E&gt;</div>
<div class="line">    constexpr <span class="keywordtype">bool</span> <a class="code" href="namespaceboost_1_1outcome_1_1v1__xxx.html#a45313fa17aa4be05a21363191dacab93">operator!=</a>(<span class="keyword">const</span> unexpected_type&lt;E&gt;&amp;, <span class="keyword">const</span> expected&lt;T,E&gt;&amp;);</div>
<div class="line">  <span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keyword">class</span> E&gt;</div>
<div class="line">    constexpr <span class="keywordtype">bool</span> operator&lt;(const expected&lt;T,E&gt;&amp;, <span class="keyword">const</span> unexpected_type&lt;E&gt;&amp;);</div>
<div class="line">  <span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keyword">class</span> E&gt;</div>
<div class="line">    constexpr <span class="keywordtype">bool</span> operator&lt;(const unexpected_type&lt;E&gt;&amp;, <span class="keyword">const</span> expected&lt;T,E&gt;&amp;);</div>
<div class="line">  <span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keyword">class</span> E&gt;</div>
<div class="line">    constexpr <span class="keywordtype">bool</span> operator&lt;=(const expected&lt;T,E&gt;&amp;, <span class="keyword">const</span> unexpected_type&lt;E&gt;&amp;);</div>
<div class="line"></div>
<div class="line">  <span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keyword">class</span> E&gt;</div>
<div class="line">    constexpr <span class="keywordtype">bool</span> operator&lt;=(const unexpected_type&lt;E&gt;&amp;, <span class="keyword">const</span> expected&lt;T,E&gt;&amp;);</div>
<div class="line">  <span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keyword">class</span> E&gt;</div>
<div class="line">    constexpr <span class="keywordtype">bool</span> operator&gt;(<span class="keyword">const</span> expected&lt;T,E&gt;&amp;, <span class="keyword">const</span> unexpected_type&lt;E&gt;&amp;);</div>
<div class="line">  <span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keyword">class</span> E&gt;</div>
<div class="line">    constexpr <span class="keywordtype">bool</span> operator&gt;(<span class="keyword">const</span> unexpected_type&lt;E&gt;&amp;, <span class="keyword">const</span> expected&lt;T,E&gt;&amp;);</div>
<div class="line">  <span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keyword">class</span> E&gt;</div>
<div class="line">    constexpr <span class="keywordtype">bool</span> operator&gt;=(<span class="keyword">const</span> expected&lt;T,E&gt;&amp;, <span class="keyword">const</span> unexpected_type&lt;E&gt;&amp;);</div>
<div class="line">  <span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keyword">class</span> E&gt;</div>
<div class="line">    constexpr <span class="keywordtype">bool</span> operator&gt;=(<span class="keyword">const</span> unexpected_type&lt;E&gt;&amp;, <span class="keyword">const</span> expected&lt;T,E&gt;&amp;);</div>
<div class="line"></div>
<div class="line">  <span class="comment">// X.Z.11, Specialized algorithms</span></div>
<div class="line">  <span class="keywordtype">void</span> swap(expected&lt;T,E&gt;&amp;, expected&lt;T,E&gt;&amp;) noexcept(see below);</div>
<div class="line"></div>
<div class="line">  <span class="comment">// X.Z.12, Factories</span></div>
<div class="line">  template &lt;class T&gt;</div>
<div class="line">    constexpr expected&lt;decay_t&lt;T&gt;&gt; <a class="code" href="group__expected.html#ga276cc35056dccfdbe461c11d8eeb3d93">make_expected</a>(T&amp;&amp; v);</div>
<div class="line"></div>
<div class="line"></div>
<div class="line">  expected&lt;<span class="keywordtype">void</span>&gt; <a class="code" href="group__expected.html#ga276cc35056dccfdbe461c11d8eeb3d93">make_expected</a>();</div>
<div class="line">  template &lt;class T, class E&gt;</div>
<div class="line">    constexpr expected&lt;T, decay_t&lt;E&gt;&gt; <a class="code" href="group__expected.html#ga726f6c276fd09c5036f20811239b0c8e">make_expected_from_error</a>(E&amp;&amp; e);</div>
<div class="line"></div>
<div class="line"></div>
<div class="line">  template &lt;class T, class E, class U&gt;</div>
<div class="line">    constexpr expected&lt;T, E&gt; <a class="code" href="group__expected.html#ga726f6c276fd09c5036f20811239b0c8e">make_expected_from_error</a>(U&amp;&amp; u);</div>
<div class="line">  template &lt;class F&gt;</div>
<div class="line">    constexpr expected&lt;typename result_type&lt;F&gt;::type&gt;</div>
<div class="line">  make_expected_from_call(F f);</div>
<div class="line"></div>
<div class="line">  <span class="comment">// X.Z.13, hash support</span></div>
<div class="line">  template &lt;class T, class E&gt; struct hash&lt;expected&lt;T,E&gt;&gt;;</div>
<div class="line">  template &lt;class E&gt; struct hash&lt;expected&lt;<span class="keywordtype">void</span>,E&gt;&gt;;</div>
<div class="line">}}}</div>
</div><!-- fragment --> </td><td width="62%" valign="top"><div class="fragment"><div class="line"><span class="keyword">namespace </span>boost {</div>
<div class="line"><span class="keyword">namespace </span>outcome {</div>
<div class="line"><span class="keyword">inline</span> <span class="keyword">namespace </span>v1_xxx {</div>
<div class="line">  <span class="comment">// X.Z.4, expected for object types</span></div>
<div class="line">  <span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keyword">class</span> E = std::error_code&gt;</div>
<div class="line">    <span class="keyword">using</span> expected = basic_monad&lt;detail::expected_policy&lt;T, E&gt;&gt;;</div>
<div class="line"></div>
<div class="line">  <span class="comment">// X.Z.5, Specialization for void.</span></div>
<div class="line">  <span class="keyword">template</span> &lt;<span class="keyword">class</span> E&gt;</div>
<div class="line">    <span class="keyword">class </span>expected&lt;void, E&gt;;</div>
<div class="line"></div>
<div class="line">  <span class="comment">// X.Z.6, unexpect tag</span></div>
<div class="line">  <span class="keyword">using</span> <a class="code" href="group__expected.html#ga43a5a0da82bcdf70d885e62ca9d5528a">unexpect_t</a> = error_t;  <span class="comment">// Tells basic_monad to instantiate an errored instance</span></div>
<div class="line"></div>
<div class="line"></div>
<div class="line">  constexpr <a class="code" href="group__expected.html#ga43a5a0da82bcdf70d885e62ca9d5528a">unexpect_t</a> <a class="code" href="group__expected.html#ga71d06dbe1034b67b00f3f69839c548ae">unexpect</a>{<span class="stringliteral">&#39;implementation defined&#39;</span>};</div>
<div class="line"></div>
<div class="line">  <span class="comment">// X.Z.7, class bad_expected_access</span></div>
<div class="line">  <span class="keyword">class </span>bad_expected_access;</div>
<div class="line"></div>
<div class="line">  <span class="comment">// X.Z.8, Expected relational operators</span></div>
<div class="line">  <span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keyword">class</span> E&gt;</div>
<div class="line">    constexpr <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="namespaceboost_1_1outcome_1_1v1__xxx.html#a63db4c206ada0cb03a5a1fbe0d626ba7">operator==</a>(<span class="keyword">const</span> expected&lt;T,E&gt;&amp;, <span class="keyword">const</span> expected&lt;T,E&gt;&amp;);</div>
<div class="line">  <span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keyword">class</span> E&gt;</div>
<div class="line">    constexpr <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="namespaceboost_1_1outcome_1_1v1__xxx.html#a45313fa17aa4be05a21363191dacab93">operator!=</a>(<span class="keyword">const</span> expected&lt;T,E&gt;&amp;, <span class="keyword">const</span> expected&lt;T,E&gt;&amp;);</div>
<div class="line">  <span class="comment">// Other comparison operators not implemented due to</span></div>
<div class="line">  <span class="comment">// https://akrzemi1.wordpress.com/2014/12/02/a-gotcha-with-optional/</span></div>
<div class="line"></div>
<div class="line"></div>
<div class="line"></div>
<div class="line"></div>
<div class="line"></div>
<div class="line"></div>
<div class="line"></div>
<div class="line">  <span class="comment">// X.Z.9, Comparison with T</span></div>
<div class="line">  <span class="comment">// Comparison to T operators not implemented due to</span></div>
<div class="line">  <span class="comment">// https://akrzemi1.wordpress.com/2014/12/02/a-gotcha-with-optional/</span></div>
<div class="line"></div>
<div class="line"></div>
<div class="line"></div>
<div class="line"></div>
<div class="line"></div>
<div class="line"></div>
<div class="line"></div>
<div class="line"></div>
<div class="line"></div>
<div class="line"></div>
<div class="line"></div>
<div class="line"></div>
<div class="line"></div>
<div class="line"></div>
<div class="line"></div>
<div class="line"></div>
<div class="line"></div>
<div class="line"></div>
<div class="line"></div>
<div class="line"></div>
<div class="line"></div>
<div class="line"></div>
<div class="line"></div>
<div class="line">  <span class="comment">// X.Z.10, Comparison with unexpected_type&lt;E&gt;</span></div>
<div class="line">  <span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keyword">class</span> E&gt;</div>
<div class="line">    constexpr <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="namespaceboost_1_1outcome_1_1v1__xxx.html#a63db4c206ada0cb03a5a1fbe0d626ba7">operator==</a>(<span class="keyword">const</span> expected&lt;T,E&gt;&amp;, <span class="keyword">const</span> unexpected_type&lt;E&gt;&amp;);</div>
<div class="line">  <span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keyword">class</span> E&gt;</div>
<div class="line">    constexpr <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="namespaceboost_1_1outcome_1_1v1__xxx.html#a63db4c206ada0cb03a5a1fbe0d626ba7">operator==</a>(<span class="keyword">const</span> unexpected_type&lt;E&gt;&amp;, <span class="keyword">const</span> expected&lt;T,E&gt;&amp;);</div>
<div class="line">  <span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keyword">class</span> E&gt;</div>
<div class="line">    constexpr <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="namespaceboost_1_1outcome_1_1v1__xxx.html#a45313fa17aa4be05a21363191dacab93">operator!=</a>(<span class="keyword">const</span> expected&lt;T,E&gt;&amp;, <span class="keyword">const</span> unexpected_type&lt;E&gt;&amp;);</div>
<div class="line">  <span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keyword">class</span> E&gt;</div>
<div class="line">    constexpr <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="namespaceboost_1_1outcome_1_1v1__xxx.html#a45313fa17aa4be05a21363191dacab93">operator!=</a>(<span class="keyword">const</span> unexpected_type&lt;E&gt;&amp;, <span class="keyword">const</span> expected&lt;T,E&gt;&amp;);</div>
<div class="line">  <span class="comment">// Other comparison operators not implemented due to</span></div>
<div class="line">  <span class="comment">// https://akrzemi1.wordpress.com/2014/12/02/a-gotcha-with-optional/</span></div>
<div class="line"></div>
<div class="line"></div>
<div class="line"></div>
<div class="line"></div>
<div class="line"></div>
<div class="line"></div>
<div class="line"></div>
<div class="line"></div>
<div class="line"></div>
<div class="line"></div>
<div class="line"></div>
<div class="line"></div>
<div class="line"></div>
<div class="line"></div>
<div class="line"></div>
<div class="line"></div>
<div class="line">  <span class="comment">// X.Z.11, Specialized algorithms</span></div>
<div class="line">  <span class="keyword">inline</span> <span class="keywordtype">void</span> swap(expected&lt;T,E&gt;&amp;, expected&lt;T,E&gt;&amp;) noexcept(see below);</div>
<div class="line"></div>
<div class="line">  <span class="comment">// X.Z.12, Factories</span></div>
<div class="line">  template &lt;class T, class E = std::error_code&gt;</div>
<div class="line">    constexpr inline expected&lt;T, E&gt; make_expected(const T&amp; v);</div>
<div class="line">  template &lt;class T, class E = std::error_code&gt;</div>
<div class="line">    constexpr inline expected&lt;T, E&gt; make_expected(T&amp;&amp; v);</div>
<div class="line">  inline expected&lt;<span class="keywordtype">void</span>&gt; make_expected();</div>
<div class="line">  template &lt;class T, class E&gt;</div>
<div class="line">    constexpr inline expected&lt;T, E&gt; <a class="code" href="group__expected.html#ga726f6c276fd09c5036f20811239b0c8e">make_expected_from_error</a>(const E&amp; e);</div>
<div class="line">  template &lt;class T, class E&gt;</div>
<div class="line">    constexpr inline expected&lt;T, E&gt; <a class="code" href="group__expected.html#ga726f6c276fd09c5036f20811239b0c8e">make_expected_from_error</a>(E&amp;&amp; e);</div>
<div class="line">  template &lt;class T, class E, class U&gt;</div>
<div class="line">    constexpr inline expected&lt;T, E&gt; <a class="code" href="group__expected.html#ga726f6c276fd09c5036f20811239b0c8e">make_expected_from_error</a>(U&amp;&amp; u);</div>
<div class="line">  <span class="comment">// make_expected_from_call() not implemented</span></div>
<div class="line"></div>
<div class="line"></div>
<div class="line"></div>
<div class="line">  <span class="comment">// X.Z.13, hash support</span></div>
<div class="line">  <span class="comment">// Not implemented as operator&lt; not implemented</span></div>
<div class="line"></div>
<div class="line"></div>
<div class="line">  <span class="comment">// Outcome extensions</span></div>
<div class="line"></div>
<div class="line">  <span class="comment">// NOTE requires state to be set to valued beforehand (and can only deserialise a value)</span></div>
<div class="line">  template&lt;class Policy&gt; inline std::istream &amp;operator&gt;&gt;(std::istream &amp;s, basic_monad&lt;Policy&gt; &amp;v);</div>
<div class="line">  <span class="comment">// Intended for printing rather than serialisation to storage</span></div>
<div class="line">  template&lt;class Policy&gt; inline std::ostream &amp;operator&lt;&lt;(std::ostream &amp;s, const basic_monad&lt;Policy&gt; &amp;v);</div>
<div class="line">}}}</div>
</div><!-- fragment -->  </td></tr>
<tr>
<td width="38%" valign="top"><div class="fragment"><div class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keyword">class</span> E&gt;</div>
<div class="line"><span class="keyword">class </span>expected</div>
<div class="line">{</div>
<div class="line"></div>
<div class="line"></div>
<div class="line"></div>
<div class="line"></div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">  <span class="keyword">typedef</span> T value_type;</div>
<div class="line">  <span class="keyword">typedef</span> E error_type;</div>
<div class="line"></div>
<div class="line"></div>
<div class="line">  <span class="keyword">template</span> &lt;<span class="keyword">class</span> U&gt;</div>
<div class="line">    <span class="keyword">struct </span>rebind {</div>
<div class="line">      <span class="keyword">using</span> type = expected&lt;U, error_type&gt;;</div>
<div class="line">    };</div>
<div class="line"></div>
<div class="line">  <span class="comment">// X.Z.4.1, constructors</span></div>
<div class="line">  constexpr expected() noexcept(see below);</div>
<div class="line">  expected(const expected&amp;);</div>
<div class="line">  expected(expected&amp;&amp;) noexcept(see below);</div>
<div class="line">  constexpr expected(const T&amp;);</div>
<div class="line">  constexpr expected(T&amp;&amp;);</div>
<div class="line">  template &lt;class... Args&gt;</div>
<div class="line">    constexpr explicit expected(in_place_t, Args&amp;&amp;...);</div>
<div class="line">  template &lt;class U, class... Args&gt;</div>
<div class="line">    constexpr explicit expected(in_place_t, initializer_list&lt;U&gt;, Args&amp;&amp;...);</div>
<div class="line">  constexpr expected(<a class="code" href="group__expected.html#gaa7f5bc4b5722b0aabfc0cb9d8bc22d51">unexpected_type</a>&lt;E&gt; const&amp;);</div>
<div class="line">  template &lt;class Err&gt;</div>
<div class="line">    constexpr expected(<a class="code" href="group__expected.html#gaa7f5bc4b5722b0aabfc0cb9d8bc22d51">unexpected_type</a>&lt;Err&gt; const&amp;);</div>
<div class="line">  template &lt;class... Args&gt;</div>
<div class="line">    constexpr explicit expected(<a class="code" href="group__expected.html#ga43a5a0da82bcdf70d885e62ca9d5528a">unexpect_t</a>, Args&amp;&amp;...);</div>
<div class="line">  template &lt;class U, class... Args&gt;</div>
<div class="line">    constexpr explicit expected(unexpect_t, initializer_list&lt;U&gt;, Args&amp;&amp;...);</div>
<div class="line"></div>
<div class="line">  <span class="comment">// X.Z.4.2, destructor</span></div>
<div class="line">  ~expected();</div>
<div class="line"></div>
<div class="line">  <span class="comment">// X.Z.4.3, assignment</span></div>
<div class="line">  expected&amp; operator=(const expected&amp;);</div>
<div class="line">  expected&amp; operator=(expected&amp;&amp;) noexcept(see below);</div>
<div class="line">  template &lt;class U&gt; expected&amp; operator=(U&amp;&amp;);</div>
<div class="line">    expected&amp; operator=(const <a class="code" href="group__expected.html#gaa7f5bc4b5722b0aabfc0cb9d8bc22d51">unexpected_type</a>&lt;E&gt;&amp;);</div>
<div class="line">  expected&amp; operator=(<a class="code" href="group__expected.html#gaa7f5bc4b5722b0aabfc0cb9d8bc22d51">unexpected_type</a>&lt;E&gt;&amp;&amp;) noexcept(see below);</div>
<div class="line">  template &lt;class... Args&gt;</div>
<div class="line">    <span class="keywordtype">void</span> emplace(Args&amp;&amp;...);</div>
<div class="line">  template &lt;class U, class... Args&gt;</div>
<div class="line">    <span class="keywordtype">void</span> emplace(initializer_list&lt;U&gt;, Args&amp;&amp;...);</div>
<div class="line"></div>
<div class="line">  <span class="comment">// X.Z.4.4, swap</span></div>
<div class="line">  <span class="keywordtype">void</span> swap(expected&amp;) noexcept(see below);</div>
<div class="line"></div>
<div class="line">  <span class="comment">// X.Z.4.5, observers</span></div>
<div class="line">  constexpr const T* operator -&gt;() const;</div>
<div class="line">  T* operator -&gt;();</div>
<div class="line">  constexpr const T&amp; operator *() const&amp;;</div>
<div class="line">  T&amp; operator *() &amp;;</div>
<div class="line">  constexpr const T&amp;&amp; operator *() const &amp;&amp;;</div>
<div class="line">  constexpr T&amp;&amp; operator *() &amp;&amp;;</div>
<div class="line">  constexpr explicit operator <span class="keywordtype">bool</span>() const noexcept;</div>
<div class="line">  constexpr <span class="keywordtype">bool</span> has_value() const noexcept;</div>
<div class="line">  constexpr const T&amp; value() const&amp;;</div>
<div class="line">  constexpr T&amp; value() &amp;;</div>
<div class="line">  constexpr const T&amp;&amp; value() const &amp;&amp;;</div>
<div class="line">  constexpr T&amp;&amp; value() &amp;&amp;;</div>
<div class="line">  constexpr const E&amp; error() const&amp;;</div>
<div class="line">  E&amp; error() &amp;;</div>
<div class="line">  constexpr E&amp;&amp; error() &amp;&amp;;</div>
<div class="line">  constexpr const E&amp;&amp; error() const &amp;&amp;;</div>
<div class="line">  constexpr <a class="code" href="group__expected.html#gaa7f5bc4b5722b0aabfc0cb9d8bc22d51">unexpected_type</a>&lt;E&gt; get_unexpected() const;</div>
<div class="line">  template &lt;class U&gt;</div>
<div class="line">    constexpr T value_or(U&amp;&amp;) const&amp;;</div>
<div class="line">  template &lt;class U&gt;</div>
<div class="line">    T value_or(U&amp;&amp;) &amp;&amp;;</div>
<div class="line"></div>
<div class="line">private:</div>
<div class="line">  <span class="keywordtype">bool</span> has_value; <span class="comment">// exposition only</span></div>
<div class="line">  union</div>
<div class="line">  {</div>
<div class="line">    value_type val; <span class="comment">// exposition only</span></div>
<div class="line">    error_type err; <span class="comment">// exposition only</span></div>
<div class="line">  };</div>
<div class="line">};</div>
</div><!-- fragment --> </td><td width="62%" valign="top"><div class="fragment"><div class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keyword">class</span> E&gt;</div>
<div class="line"><span class="keyword">class </span>expected</div>
<div class="line">{</div>
<div class="line">  static_assert(!std::is_constructible&lt;T, E&gt;::value, <span class="stringliteral">&quot;value_type cannot be constructible from error_type&quot;</span>);</div>
<div class="line">  static_assert(!std::is_constructible&lt;E, T&gt;::value, <span class="stringliteral">&quot;error_type cannot be constructible from value_type&quot;</span>);</div>
<div class="line">  static_assert(std::is_void&lt;E&gt;::value || std::is_nothrow_copy_constructible&lt;E&gt;::value, <span class="stringliteral">&quot;error_type must be nothrow copy constructible&quot;</span>);</div>
<div class="line">  static_assert(std::is_void&lt;E&gt;::value || std::is_nothrow_move_constructible&lt;E&gt;::value, <span class="stringliteral">&quot;error_type must be nothrow move constructible&quot;</span>);</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">  <span class="keyword">using</span> value_type = devoid&lt;T&gt;;  <span class="comment">// If T is void, an unusable but helpfully named type</span></div>
<div class="line">  <span class="keyword">using</span> error_type = devoid&lt;E&gt;;  <span class="comment">// This traps attempts to use with a useful compiler error</span></div>
<div class="line">  <span class="keyword">using</span> raw_value_type = T;</div>
<div class="line">  <span class="keyword">using</span> raw_error_type = E;</div>
<div class="line">  <span class="keyword">template</span> &lt;<span class="keyword">class</span> U&gt; <span class="keyword">using</span> rebind = expected&lt;U, error_type&gt;;</div>
<div class="line"></div>
<div class="line"></div>
<div class="line"></div>
<div class="line">  <span class="comment">// X.Z.4.1, constructors</span></div>
<div class="line">  constexpr expected() noexcept(is_nothrow_default_constructible);</div>
<div class="line">  expected(const expected&amp;) noexcept(is_nothrow_copy_constructible);</div>
<div class="line">  expected(expected&amp;&amp;) noexcept(is_nothrow_move_constructible);</div>
<div class="line">  constexpr expected(const T&amp;) noexcept(T);</div>
<div class="line">  constexpr expected(T&amp;&amp;) noexcept(T);</div>
<div class="line">  template &lt;class... Args&gt;</div>
<div class="line">    constexpr explicit expected(in_place_t, Args&amp;&amp;...);</div>
<div class="line">  template &lt;class U, class... Args&gt;</div>
<div class="line">    constexpr explicit expected(in_place_t, initializer_list&lt;U&gt;, Args&amp;&amp;...);</div>
<div class="line">  constexpr expected(<a class="code" href="group__expected.html#gaa7f5bc4b5722b0aabfc0cb9d8bc22d51">unexpected_type</a>&lt;E&gt; const&amp;) noexcept(is_nothrow_copy_constructible);</div>
<div class="line">  template &lt;class Err&gt;</div>
<div class="line">    constexpr expected(<a class="code" href="group__expected.html#gaa7f5bc4b5722b0aabfc0cb9d8bc22d51">unexpected_type</a>&lt;Err&gt; const&amp;) noexcept(is_nothrow_copy_constructible);</div>
<div class="line"></div>
<div class="line"></div>
<div class="line"></div>
<div class="line"></div>
<div class="line"></div>
<div class="line"></div>
<div class="line">  <span class="comment">// X.Z.4.2, destructor</span></div>
<div class="line">  ~expected() noexcept(is_nothrow_destructible);</div>
<div class="line"></div>
<div class="line">  <span class="comment">// X.Z.4.3, assignment</span></div>
<div class="line">  expected&amp; operator=(const expected&amp;) noexcept(is_nothrow_copy_assignable);</div>
<div class="line">  expected&amp; operator=(expected&amp;&amp;) noexcept(is_nothrow_move_assignable);</div>
<div class="line">  template &lt;class U&gt; expected&amp; operator=(U&amp;&amp;);</div>
<div class="line">    expected&amp; operator=(const <a class="code" href="group__expected.html#gaa7f5bc4b5722b0aabfc0cb9d8bc22d51">unexpected_type</a>&lt;U&gt;&amp;);</div>
<div class="line">  expected&amp; operator=(<a class="code" href="group__expected.html#gaa7f5bc4b5722b0aabfc0cb9d8bc22d51">unexpected_type</a>&lt;E&gt;&amp;&amp;) noexcept(see below);</div>
<div class="line">  template &lt;class... Args&gt;</div>
<div class="line">    <span class="keywordtype">void</span> emplace(Args&amp;&amp;...);</div>
<div class="line">  template &lt;class U, class... Args&gt;</div>
<div class="line">    <span class="keywordtype">void</span> emplace(initializer_list&lt;U&gt;, Args&amp;&amp;...);</div>
<div class="line"></div>
<div class="line">  <span class="comment">// X.Z.4.4, swap</span></div>
<div class="line">  <span class="keywordtype">void</span> swap(expected&amp;) noexcept(is_nothrow_move_constructible &amp;&amp; is_trivially_destructible);</div>
<div class="line"></div>
<div class="line">  <span class="comment">// X.Z.4.5, observers</span></div>
<div class="line">  constexpr const T* operator -&gt;() const;</div>
<div class="line">  constexpr T* operator -&gt;();</div>
<div class="line">  constexpr const T&amp; operator *() const&amp;;</div>
<div class="line">  constexpr T&amp; operator *() &amp;;</div>
<div class="line">  constexpr const T&amp;&amp; operator *() const &amp;&amp;;</div>
<div class="line">  constexpr T&amp;&amp; operator *() &amp;&amp;;</div>
<div class="line">  constexpr explicit operator <span class="keywordtype">bool</span>() const noexcept;</div>
<div class="line">  constexpr <span class="keywordtype">bool</span> has_value() const noexcept;</div>
<div class="line">  constexpr const T&amp; value() const&amp;;</div>
<div class="line">  constexpr T&amp; value() &amp;;</div>
<div class="line">  constexpr const T&amp;&amp; value() const &amp;&amp;;</div>
<div class="line">  constexpr T&amp;&amp; value() &amp;&amp;;</div>
<div class="line">  constexpr const E&amp; error() const&amp;;</div>
<div class="line">  constexpr E&amp; error() &amp;;</div>
<div class="line">  constexpr E&amp;&amp; error() &amp;&amp;;</div>
<div class="line">  constexpr const E&amp;&amp; error() const &amp;&amp;;</div>
<div class="line">  <span class="comment">// get_unexpected() not implemented</span></div>
<div class="line">  constexpr const value_type &amp;value_or(const value_type &amp;) noexcept const&amp;;</div>
<div class="line">  constexpr value_type&amp; value_or(value_type&amp;) noexcept &amp;;</div>
<div class="line">  constexpr const value_type&amp;&amp; value_or(const value_type&amp;&amp;) noexcept const&amp;&amp;;</div>
<div class="line">  constexpr value_type&amp;&amp; value_or(value_type&amp;&amp;) noexcept &amp;&amp;;</div>
<div class="line"></div>
<div class="line">private:</div>
<div class="line">  <span class="keywordtype">bool</span> has_value;    <span class="comment">// exposition only</span></div>
<div class="line">  union</div>
<div class="line">  {</div>
<div class="line">    value_type val;  <span class="comment">// exposition only</span></div>
<div class="line">    error_type err;  <span class="comment">// exposition only</span></div>
<div class="line">  };</div>
<div class="line"></div>
<div class="line"><span class="keyword">public</span>:              <span class="comment">// Outcome extensions</span></div>
<div class="line"></div>
<div class="line">  <span class="comment">// The properties of this monad, and relative to other monads</span></div>
<div class="line">  <span class="keyword">static</span> constexpr <span class="keywordtype">bool</span> is_default_constructible;</div>
<div class="line">  <span class="keyword">static</span> constexpr <span class="keywordtype">bool</span> is_copy_constructible;</div>
<div class="line">  <span class="keyword">static</span> constexpr <span class="keywordtype">bool</span> is_move_constructible;</div>
<div class="line">  <span class="keyword">static</span> constexpr <span class="keywordtype">bool</span> is_copy_assignable;</div>
<div class="line">  <span class="keyword">static</span> constexpr <span class="keywordtype">bool</span> is_move_assignable;</div>
<div class="line">  <span class="keyword">static</span> constexpr <span class="keywordtype">bool</span> is_nothrow_default_constructible;</div>
<div class="line">  <span class="keyword">static</span> constexpr <span class="keywordtype">bool</span> is_nothrow_copy_constructible;</div>
<div class="line">  <span class="keyword">static</span> constexpr <span class="keywordtype">bool</span> is_nothrow_move_constructible;</div>
<div class="line">  <span class="keyword">static</span> constexpr <span class="keywordtype">bool</span> is_nothrow_copy_assignable;</div>
<div class="line">  <span class="keyword">static</span> constexpr <span class="keywordtype">bool</span> is_nothrow_move_assignable;</div>
<div class="line">  <span class="keyword">static</span> constexpr <span class="keywordtype">bool</span> is_nothrow_destructible;</div>
<div class="line">  <span class="keyword">static</span> constexpr <span class="keywordtype">bool</span> is_trivially_destructible;</div>
<div class="line">  <span class="keyword">template</span> &lt;<span class="keyword">class</span> OtherMonad&gt; <span class="keyword">static</span> constexpr <span class="keywordtype">bool</span> is_constructible;</div>
<div class="line">  <span class="keyword">template</span> &lt;<span class="keyword">class</span> OtherMonad&gt; <span class="keyword">static</span> constexpr <span class="keywordtype">bool</span> is_comparable;</div>
<div class="line"></div>
<div class="line">  <span class="comment">// Implicit construction from emptiness, error or excepted state of a void expected</span></div>
<div class="line">  constexpr expected(<span class="keyword">const</span> rebind&lt;void&gt;&amp;) noexcept(is_nothrow_copy_constructible);  <span class="comment">// use as_void() to create a void expected</span></div>
<div class="line">  constexpr expected(rebind&lt;<span class="keywordtype">void</span>&gt;&amp;&amp;) noexcept(is_nothrow_move_constructible);       <span class="comment">// use as_void() to create a void expected</span></div>
<div class="line"></div>
<div class="line">  <span class="comment">// Implicit construction with error_type</span></div>
<div class="line">  constexpr expected(const error_type&amp;) noexcept(E);  <span class="comment">// use the make_XXX() functions instead</span></div>
<div class="line">  constexpr expected(error_type&amp;&amp;) noexcept(E);       <span class="comment">// use the make_XXX() functions instead</span></div>
<div class="line"></div>
<div class="line">  <span class="comment">// Explicit up converting move and copy constructors, only</span></div>
<div class="line">  <span class="comment">// available if T and E are constructible from T2 and E2</span></div>
<div class="line">  <span class="comment">// and no information can ever be lost</span></div>
<div class="line">  template &lt;class T2, class E2&gt;</div>
<div class="line">    constexpr explicit expected(expected&lt;T2, E2&gt; &amp;&amp;) noexcept(is_nothrow_move_constructible);</div>
<div class="line">  template &lt;class T2, class E2&gt;</div>
<div class="line">    constexpr explicit expected(const expected&lt;T2, E2&gt; &amp;) noexcept(is_nothrow_copy_constructible);</div>
<div class="line"></div>
<div class="line">  <span class="comment">// Observers</span></div>
<div class="line">  constexpr explicit operator boost_lite::<a class="code" href="group__tribool.html#ga9514dbc44e596e2a15372dbf6b594d6f">tribool</a>::<a class="code" href="group__tribool.html#ga9514dbc44e596e2a15372dbf6b594d6f">tribool</a>() const noexcept;   <span class="comment">// other if monad empty, false if monad errored/excepted</span></div>
<div class="line">  constexpr <span class="keywordtype">bool</span> is_ready() const noexcept;                                    <span class="comment">// i.e. not empty</span></div>
<div class="line">  constexpr <span class="keywordtype">bool</span> empty() const noexcept;</div>
<div class="line">  constexpr <span class="keywordtype">bool</span> has_error() const noexcept;</div>
<div class="line"></div>
<div class="line">  <span class="comment">// Setting value_type, disposes any previous state</span></div>
<div class="line">  constexpr <span class="keywordtype">void</span> set_value(const value_type&amp;);</div>
<div class="line">  constexpr <span class="keywordtype">void</span> set_value(value_type&amp;&amp;);</div>
<div class="line">  constexpr <span class="keywordtype">void</span> set_value();</div>
<div class="line"></div>
<div class="line">  <span class="comment">// Retrieving and setting error_type</span></div>
<div class="line">  constexpr error_type error_or(error_type) noexcept const;</div>
<div class="line">  constexpr <span class="keywordtype">void</span> set_error(error_type);</div>
<div class="line"></div>
<div class="line">  <span class="comment">// Clear to empty</span></div>
<div class="line">  <span class="keywordtype">void</span> clear() noexcept(is_nothrow_destructible);</div>
<div class="line"></div>
<div class="line">};</div>
</div><!-- fragment -->  </td></tr>
</table>
<h1><a class="anchor" id="synopsis_bad_expected_access"></a>
bad_expected_access&lt;E&gt;</h1>
<table  width="100%">
<tr>
<th width="38%">LEWG's Expected implementation</th><th width="62%">Outcome's Expected implementation </th></tr>
<tr>
<td width="38%" valign="top"><div class="fragment"><div class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> E&gt;</div>
<div class="line"><span class="keyword">class </span>bad_expected_access : <span class="keyword">public</span> logic_error {</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">  <span class="keyword">explicit</span> bad_expected_access(E);</div>
<div class="line"></div>
<div class="line">  constexpr error_type <span class="keyword">const</span>&amp; error() <span class="keyword">const</span>;</div>
<div class="line">  error_type&amp; error();</div>
<div class="line">};</div>
</div><!-- fragment --> </td><td width="62%" valign="top"><div class="fragment"><div class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> E&gt;</div>
<div class="line"><span class="keyword">class </span>bad_expected_access : <span class="keyword">public</span> logic_error {</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">  <span class="keyword">explicit</span> bad_expected_access(E) noexcept;       <span class="comment">// noexcept as this type is thrown as a C++ exception</span></div>
<div class="line"></div>
<div class="line">  const error_type &amp;error() const &amp; noexcept;     <span class="comment">// No point in these being constexpr due to inheriting logic_error</span></div>
<div class="line">  error_type &amp;error() &amp; noexcept;                 <span class="comment">// Also some compilers complain loudly if these are constexpr</span></div>
<div class="line">  const error_type &amp;&amp;error() const &amp;&amp; noexcept;</div>
<div class="line">  error_type &amp;&amp;error() &amp;&amp; noexcept;</div>
<div class="line">};</div>
</div><!-- fragment -->  </td></tr>
</table>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.6 </li>
  </ul>
</div>
</body>
</html>
